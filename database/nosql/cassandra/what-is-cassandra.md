---
description: Explore what is cassandra through some questions
---

# What is Cassandra

## <mark style="color:red;">Q:</mark> <mark style="color:red;">Why Face Book chose to develop the cassandra</mark>

Facebook has some challenges storing large-scale data, so they designed the cassandra to solve these problems

* **High throughput:** Face Book has billions of activate users and it will generate a large amount of data every day, including videos, posts, photos, etc. uploaded by users, Therefore, storage systems need to be able to handle high-throughput data write and read requests.
* **Data Distribution:** The traditional database always face performance bottlenecks when facing large-scale data, because they are usually single-point storage and cannot cope with the reading and writing pressure of large-scale data. Facebook needed a distributed storage system that could scale horizontally to handle massive amounts of data.
* **High availability**: Face Book is a global online social platform with worldwide users, therefore, the storage system needs to ensure the high availability of data, so that user always can access the data even in the event of node failure or network partition.
* **Fast Data access**: Face Book users want they can quickly access their data, like profile, messages, photos and more, so the storage system needs to provide fast data reading and query functions to satisfy the needs of users
* **Flexible Data module**: The data generated by users on Face Book is diverse and complex, i.e. including structured data(such as user information), semi-structured data(such as posts and comments), and unstructured data(such as photos and videos), so the storage system needs to provide a flexible data model that can store and process different types of data.

So they developed the new storage system —— Cassandra

So above all , we can know the characteristics of cassandra are _high scalability, high performance, distributed system, no single point of failure, strong fault tolerance and flexible data model_.&#x20;

## <mark style="color:red;">Q: How to understand Cassandra model based on relational model</mark>

> The traditional relational model is row-store, but cassandra selected column-store, so the model is a little difference between them

| relational model | cassandra model |
| ---------------- | --------------- |
| Database         | Keyspace        |
| Table            | Column family   |
| Primary Key      | Row key         |
| Column Name      | Column Name/Key |
| Column Value     | Column Value    |

## <mark style="color:red;">Q: Why does Cassandra use column-store</mark>

### what's the difference between row-store and column-store

Let's walk through a simple example to illustrate how to understand column-store

| ID | Name    | Age | Gender |
| -- | ------- | --- | ------ |
| 1  | Alice   | 30  | Female |
| 2  | Bob     | 25  | Male   |
| 3  | Charlie | 35  | Male   |

and in our traditional row-store, the data will be organized as follows

```less
Row 1: [1, Alice, 30, Female]
Row 2: [2, Bob, 25, Male]
Row 3: [3, Charlie, 35, Male]
```

but in column-store, the data will be organized as follows

```less
ID:   [1,   2,    3]
Name: [Alice, Bob, Charlie]
Age:  [30,  25,   35]
Gender: [Female, Male, Male]
```

as compared above, it's easy to understand what is column-store and row-store.

For row-store, the entire row of data is stored contiguously, so data retrieval is row by row, which means that to get the data of a row, the system needs to retrieve the entire row, including all columns.

and for column-store, the data in the same column is stored contiguously. so we can just optionally read individual column as needed instead of having retrieve entire row

### How does a column-store relate column data to rows?

But in fact, you will see the data in cassandra is displayed in the same row-column structure as in relational databases if you use sql "select \* from table".&#x20;

and Maybe you have a question: <mark style="color:red;">How does a column-store relate column data to rows?</mark> the answer is **Row Key**, in column-store you can think of row key as the primary key in row-store. From the above table, ID is row-key, row key is used to uniquely identify each row in a table

but in real table, each table has an additional special column that stores the row key, which is implicitly present and usually not explicitly created or managed by the user, but is implicitly managed and maintained by the database system.

### How do columns form a table(Column family)

Just as multiple rows form a table in row-store, multiple columns form a column family in column-store, yes, the concept of table in column-store is called column family.

Using the previous table as an example, the column family for this table will be stored as follows

```yaml
Column Family: users

Row Key: 1
- Name: Alice
- Age: 30
- Gender: Female

Row Key: 2
- Name: Bob
- Age: 25
- Gender: Male

Row Key: 3
- Name: Charlie
- Age: 35
- Gender: Male
```

### What's the benefit of column-store

* **Read performance optimization**: instead of reading entire row, just read a few columns we need
* **High compression ratios**: duplicated data in the same column will be compressed, saving storage space and improving bandwidth when transferring data
* **Multi-dimensional query support**: instead of filtering the valid columns after retrieve the entire row, you can query columns you need directly
* **Schema flexibility**: allow different columns to be stored in different rows, and columns can be easily added or deleted without effecting other columns or redesigning the whole database structure
* **Horizontal scalability**: allow data to be partitioned or shard by column, and each node is only responsible for storing part of column data, thus supporting larger data sets and high throughput

So in summary,  Cassandra is essentially a hybrid between a key-value and a column-oriented database. and aim to handle storage and real-time query of large-scale data.
